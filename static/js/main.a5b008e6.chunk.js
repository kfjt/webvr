(this.webpackJsonpwebvr=this.webpackJsonpwebvr||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},21:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),c=n.n(i),o=(n(21),n(8)),u=n(4),s=n.n(u),f=n(11),d=n(2),h=n(3),v=n(1);function l(){var e=Object(d.a)(["\n  a-scene {\n    width: ","\n    height: ","\n  }\n"]);return l=function(){return e},e}function w(){var e=Object(d.a)(["\n  position: absolute\n  width: ","\n  height: ","\n"]);return w=function(){return e},e}function m(){var e=Object(d.a)(["\n  position: absolute\n"]);return m=function(){return e},e}function b(){var e=Object(d.a)(["\n  width: ","\n  height: ","\n"]);return b=function(){return e},e}var g=h.a.div(b(),(function(e){return"".concat(e.width,"px")||!1}),(function(e){return"".concat(e.height,"px")||!1})),p=h.a.video(m()),E=h.a.canvas(w(),(function(e){return"".concat(e.width,"px")||!1}),(function(e){return"".concat(e.height,"px")||!1})),O=Object(h.a)((function(e){return r.a.createElement("a-scene",{embedded:!0,"vr-mode-ui":"enabled: false"},e.children)}))(l(),(function(e){return"".concat(e.width,"px")||!1}),(function(e){return"".concat(e.height,"px")||!1})),j=function(e){var t=e.width,n=e.height;return n?r.a.createElement(O,{width:t,height:n},r.a.createElement("a-box",{position:"0 1 -4",color:"yellow"})):r.a.createElement("div",null)},x=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),i=Object(a.useRef)(),c=Object(a.useState)(),u=Object(o.a)(c,2),d=u[0],h=u[1],l=Object(a.useState)(),w=Object(o.a)(l,2),m=w[0];return function(e){var t=e.refVideo,n=e.setWidth,r=e.setHeight;Object(a.useEffect)((function(){var e=t.current,a=function(){var t=Object(f.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});case 2:e.srcObject=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&a(),e.addEventListener("loadeddata",e.play),e.addEventListener("loadedmetadata",(function(){n(e.videoWidth),r(e.videoHeight)}))}))}({refVideo:e,setWidth:h,setHeight:w[1]}),function(e){var t=e.refCanvas;Object(a.useEffect)((function(){var e=t.current.getContext("webgl2");e&&function(e){e.clearColor(0,0,0,.5),e.clear(e.COLOR_BUFFER_BIT)}(e)}))}({refCanvas:t}),function(e){var t=e.refCanvas,n=e.text,r=e.coord;Object(a.useEffect)((function(){t.current.getContext("2d").fillText(n,r.x,r.y,40)}))}({refCanvas:n,text:"World",coord:{x:20,y:40}}),function(e){var t=e.refCanvas,n=new v.e,r=new v.d(90),i=new v.a(1,1,1),c=new v.c({color:65280}),o=new v.b(i,c);n.add(o),r.position.z=5,Object(a.useEffect)((function(){var e=t.current,a=new v.f({canvas:e,alpha:!0});a.setSize(e.width,e.height);!function e(){requestAnimationFrame(e),o.rotation.x+=.01,o.rotation.y+=.01,a.render(n,r)}()}))}({refCanvas:i}),r.a.createElement(g,{className:"vrscene",width:d,height:m},r.a.createElement(p,{ref:e}),r.a.createElement(E,{ref:t,width:d,height:m}),r.a.createElement(E,{ref:n,width:d,height:m}),r.a.createElement(E,{ref:i,width:d,height:m}),r.a.createElement(j,{width:d,height:m}))};var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.a5b008e6.chunk.js.map